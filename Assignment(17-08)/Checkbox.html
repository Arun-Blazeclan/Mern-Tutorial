<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Select</title>
    <script>
        window.onload = function() {
            var courses = [
                {CourseId : 1, CourseName : "C#", CourseFee : 1000}, 
                {CourseId : 2, CourseName : "C", CourseFee : 1500}, 
                {CourseId : 3, CourseName : "C++", CourseFee : 2500}, 
                {CourseId : 4, CourseName : "Core-Java", CourseFee : 1500}, 
                {CourseId : 5, CourseName : "Adv-Java", CourseFee : 2500}, 
                {CourseId : 6, CourseName : "Python", CourseFee : 3000}, 
                {CourseId : 7, CourseName : ".Net", CourseFee : 3000}, 
                {CourseId : 8, CourseName : "JavaScript", CourseFee : 4000},
                {CourseId : 9, CourseName : "Node.JS", CourseFee : 3000}, 
                {CourseId : 10, CourseName : "React", CourseFee : 4000},
                {CourseId : 11, CourseName : "Angular", CourseFee : 5000}, 
                {CourseId : 12, CourseName : "Perl", CourseFee : 3000},
                {CourseId : 13, CourseName : "PHP", CourseFee : 3500}, 
                {CourseId : 14, CourseName : "Pascal", CourseFee : 4500}, 
                {CourseId : 15, CourseName : "TypeScript", CourseFee : 3000}];
        

        generatecheckboxList(courses);
        function generatecheckboxList(courses){
            var cName=[];
            for(var i=0;i<courses.length;i++){
            cName.push(courses[i].CourseName);
            }
            var opt="";
            for(var i=0;i<cName.length;i++){
                opt+='<input type="checkbox" name="ch" value="'+ i + '" >' + cName[i] + '</input><br>';
            }
            document.getElementById('lstcheckbox').innerHTML = opt;
           }
        
    
        var total=0;
        var selCourse = [];
        var fee = [];
        var markcheck = document.getElementsByName('ch');
    
            if(markcheck.length>0)
            {
                for(let id = 0 ; id < markcheck.length ; id++)
                {
                    markcheck[id].addEventListener('click',function()
                    {
                        if(markcheck[id].checked)
                        {
                            total+= courses[markcheck[id].value].CourseFee;
                            fee.push(courses[markcheck[id].value].CourseFee);
                            selCourse.push(courses[markcheck[id].value].CourseName);
                        }
                        else{
                            total -= courses[markcheck[id].value].CourseFee;
                            console.log(markcheck[id].value);
                            var i=fee.indexOf(courses[markcheck[id].value].CourseFee)
                            fee.splice(i, 1);
                            selCourse.splice(i, 1);
                        }
            document.getElementById("divcourse").innerHTML="<hr>you have selected :- " + selCourse ;
            document.getElementById("divprice").innerHTML="Fee respectively :- " + fee ;
            document.getElementById("divtotal").innerHTML="Total fees of selected course :- " + total;
                    },
                    false)
                }

            }
        
        

        };
    </script>

    
</head>
<body>
    <h3>Choose courses from below List</h3>
    <div id="lstcheckbox"></div>
    <br>
    <br>
    <div id="divcourse"></div>
    <div id="divprice"></div>
    <div id="divtotal"></div>
</body>
</html>